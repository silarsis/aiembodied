{
  "timestamp": "2025-10-19T02:29:40.993Z",
  "faceId": "9bf95ec0-764b-46b7-bc79-15cac9150f86",
  "request": {
    "headers": {
      "Content-Type": "application/json",
      "User-Agent": "aiembodied-avatar-service",
      "Authorization": "Bearer [REDACTED]"
    },
    "body": {
      "model": "gpt-4.1-mini",
      "input": [
        {
          "type": "message",
          "role": "system",
          "content": [
            {
              "type": "input_text",
              "text": "You are an avatar generation specialist that converts portrait photos into animation-ready layered components. Given a portrait photo, extract these transparent PNG layers at 150x150 pixels: - base: Face outline, hair, and static facial features (no eyes or mouth) - eyes-open: Open eyes only on transparent background - eyes-closed: Closed eyes only on transparent background - mouth-neutral through mouth-4: Different mouth shapes for speech animation (neutral, small-o, medium-o, wide-o, smile, open) Each component must be precisely aligned and sized for perfect overlay compositing."
            }
          ]
        },
        {
          "type": "message",
          "role": "user",
          "content": [
            {
              "type": "input_text",
              "text": "Convert this portrait into avatar animation layers. Make each component: - Exactly 150x150 pixels with transparent background - Perfectly aligned so they composite seamlessly - High contrast and clearly visible - Cartoon-style but recognizable as the source person - Ready for real-time animation overlay Focus on clear, bold features that will be visible in a small avatar display."
            },
            {
              "type": "input_image",
              "image_url": "data:image/png;base64,... (2137748 characters)",
              "detail": "auto"
            }
          ]
        }
      ],
      "text": {
        "format": {
          "name": "AvatarComponents",
          "type": "json_schema",
          "strict": true,
          "schema": {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "name",
              "components"
            ],
            "properties": {
              "name": {
                "type": "string",
                "description": "Human-friendly name describing the style of the generated avatar components."
              },
              "components": {
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "slot",
                    "mimeType",
                    "data",
                    "sequence"
                  ],
                  "properties": {
                    "slot": {
                      "type": "string",
                      "enum": [
                        "base",
                        "eyes-open",
                        "eyes-closed",
                        "mouth-neutral",
                        "mouth-0",
                        "mouth-1",
                        "mouth-2",
                        "mouth-3",
                        "mouth-4"
                      ]
                    },
                    "data": {
                      "type": "string",
                      "description": "Base64 encoded PNG with transparent background sized consistently for rendering."
                    },
                    "mimeType": {
                      "type": "string",
                      "enum": [
                        "image/png",
                        "image/webp"
                      ],
                      "default": "image/png"
                    },
                    "sequence": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Ordering hint when multiple frames exist for a slot."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "imageBase64Length": 2137748
  }
}